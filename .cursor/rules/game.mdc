---
description: 
globs: 
alwaysApply: false
---
# ğŸ® A Life Is A Random Journey - Reglas de Cursor

## ğŸ® TÃTULO DEL PROYECTO

**"A Life Is A Random Journey"**

> Un RPG de texto donde no eliges quiÃ©n eres. Solo vives lo que te toca.

---

## ğŸ§  CONCEPTO GENERAL

Este es un **RPG de texto Ãºnico e inmersivo**, donde cada partida es una vida diferente, **inspirado en la simulaciÃ³n profunda y la generaciÃ³n de narrativa emergente de Dwarf Fortress**. No eliges tu nombre, gÃ©nero, clase social ni destino inicial. Solo recibes lo que el mundo decide darteâ€¦ y decides quÃ© hacer con ello.

Es como si estuvieras viviendo una novela interactiva que cambia completamente en cada partida, con una **interfaz de usuario que evoca el estilo pixelado y nostÃ¡lgico de Undertale/Deltarune**, pero ejecutÃ¡ndose con fluidez y adaptÃ¡ndose completamente a las pantallas de Android, acompaÃ±ada de **audio de alta calidad** (mÃºsica y efectos) para una inmersiÃ³n profunda.

### **Puntos Clave del Enfoque:**
* **GeneraciÃ³n de Vida Profunda (Dwarf Fortress-like):** El juego no solo genera tu personaje, sino tambiÃ©n un **micro-mundo inicial y un trasfondo familiar detallado**, creando una "historia" emergente incluso antes de que el juego comience.
* **Narrativa DinÃ¡mica y Emergente:** Construida sobre **personajes no jugadores (NPCs) complejos con historias propias que pueden cruzarse con la tuya de forma condicional**, y **arcos de historia especÃ­ficos basados en la localizaciÃ³n o trayectoria de vida del jugador**. Esto permite una rejugabilidad exponencial y una sensaciÃ³n de vivir una vida verdaderamente Ãºnica, donde las interacciones de los sistemas generan sus propias tramas.
* **Experiencia Offline Total:** Toda la lÃ³gica del juego y la persistencia de datos residirÃ¡n de forma segura y autÃ³noma en el propio dispositivo Android del usuario, garantizando una experiencia de juego completamente offline.
* **GeneraciÃ³n Procedural Ligera:** Si bien la historia principal y los arcos de localizaciÃ³n son predefinidos, se explorarÃ¡ el uso de plantillas de texto y combinaciÃ³n de elementos (adjetivos, sustantivos, verbos aleatorios) para generar descripciones y eventos menores de forma procedural. Esto aumentarÃ¡ aÃºn mÃ¡s la variedad y la sensaciÃ³n de una vida verdaderamente Ãºnica, sin requerir la creaciÃ³n manual de cada micro-evento.

---

## ğŸŒ AMBIENTACIÃ“N

Un mundo de fantasÃ­a realista, donde:
* Existen magia, dragones, elfos y reinos.
* Pero tambiÃ©n hay pobreza, enfermedades, traiciones, accidentes y muertes sin gloria.
* No todo tiene sentido. A veces, simplemente pasa algo y ya.
* Las decisiones importan, pero no siempre obtienes un final feliz.

---

## ğŸ§¬ LO QUE HACE TU JUEGO ÃšNICO

Tu juego no sigue una historia lineal. Es una **experiencia personalizada y profundamente emocional**, donde la **simulaciÃ³n de vida y los sistemas interconectados** dan lugar a una narrativa que se *emerge* de tus acciones y el mundo generado. Cada jugador vive una vida distinta, sin las limitaciones de un personaje predefinido, y esa vida se siente orgÃ¡nicamente formada por el entorno. Y eso lo hace rejugable, impredecible y autÃ©ntico.

---

## ğŸ“‹ PLAN GENERAL DEL JUEGO

### 1. **GeneraciÃ³n de Origen Profundo (Inspirado en Dwarf Fortress)**
* El juego genera automÃ¡ticamente una **"historia de nacimiento"** detallada para tu personaje y su entorno inicial:
    * **Tu Nombre y GÃ©nero.**
    * **Tu Lugar de Nacimiento:** Con detalles sobre la regiÃ³n (Â¿es una zona en conflicto, prospera, desolada?), su industria principal (agrÃ­cola, minera, militar) y su cultura dominante.
    * **Tu Familia:** GeneraciÃ³n de padres y hermanos cercanos con **rasgos de personalidad bÃ¡sicos, relaciones entre ellos** (rivalidad, amistad, conflicto) e incluso **una breve historia familiar** (Â¿eran nobles venidos a menos, una lÃ­nea de guerreros, campesinos leales?).
    * **Tu Evento Inicial (Catalizador):** Un evento aleatorio significativo que marca el inicio de tu vida y moldea los rasgos iniciales del personaje (ej: nacer durante una plaga, ser abandonado, un golpe de suerte inesperado, un ataque bandido en la aldea).
    * **Atributos y Rasgos Ocultos:** Basados en el origen y los eventos iniciales (ej. "Traumatizado por la guerra", "Hijo de comerciantes", "Curioso por naturaleza"). Estos rasgos influirÃ¡n sutilmente en las opciones de diÃ¡logo, las reacciones de los NPCs o las consecuencias de las acciones.

### 2. **Vida Ramificada y Arcos de LocalizaciÃ³n**
* Cada decisiÃ³n te lleva por un camino distinto.
* **La historia se desarrolla en "arcos" o "capÃ­tulos" basados en la ubicaciÃ³n y las decisiones del jugador.** Por ejemplo:
    * Si entras en la academia, la narrativa se centra en la vida acadÃ©mica, los profesores, rivalidades y eventos dentro de la academia.
    * Si terminas en el palacio, la trama gira en torno a intrigas cortesanas, reyes, nobles y misiones diplomÃ¡ticas/militares dentro de ese entorno.
    * Lo mismo para un gremio de ladrones, una granja aislada, un campamento de mercenarios, etc.
* Puedes ser:
    * Un hÃ©roe legendario
    * Un villano temido
    * Un campesino comÃºn
    * Un rey amado o odiado
    * Un asesino arrepentido
    * Un bandido sin remordimientos
    * O incluso alguien que nunca logra nada importante

### 3. **Personajes No Jugadores (NPCs) Vivos y Complejos (Inspirado en Dwarf Fortress)**
* **NPCs Fijos con Historias Emergentes:** HabrÃ¡ un conjunto de NPCs con nombres y personalidades predefinidas. Sin embargo, su **historia personal, relaciones con otros NPCs (previamente generadas)** y eventos relevantes en su vida (como morir, tener hijos, cambiar de profesiÃ³n) pueden generarse o revelarse dinÃ¡micamente a medida que interactÃºas con ellos o los eventos mundiales los afectan.
* **Encuentros Condicionales:** Que conozcas o no a un NPC dependerÃ¡ completamente del camino que tome tu vida. Un NPC puede morir sin haberte conocido si los eventos de su propia vida o de la historia general asÃ­ lo dictan.
* **Relaciones Inter-NPCs:** Las relaciones de los NPCs entre sÃ­ (enemistades, amistades, deudas, familiares) pueden influir en sus decisiones y reacciones hacia ti, creando subtramas.
* **Tus Interacciones Afectan su Destino:** Tus acciones (o la falta de ellas) con un NPC pueden alterar su trayectoria de vida de forma significativa, e incluso llevarlos a la muerte o a la grandeza.

### 4. **FantasÃ­a Realista y Sistemas Interconectados**
* Magia, dragones y criaturas existen...
* Pero tambiÃ©n hay hambre, corrupciÃ³n, miedo, vejez y muerte natural.
* **Todo puede fallar:** Inspirado en la aleatoriedad y la interconexiÃ³n de sistemas de Dwarf Fortress, tu arma puede romperse en el momento crÃ­tico, tu comida puede estar podrida, tu mente puede engaÃ±arte, o un evento aparentemente menor puede desencadenar una serie de catastrÃ³ficas desdichas.
* No todo tiene sentido. A veces, simplemente pasa algo y ya.

### 5. **Sistema de Tiempo y Edad**
* Envejeces naturalmente.
* Puedes morir joven por una decisiÃ³n tonta.
* O llegar a viejo, preguntÃ¡ndote si valiÃ³ la pena todo lo hecho.

### 6. **DiÃ¡logos con Peso Emocional y Dilemas Morales (Inspirado en Rasgos y Traumas)**
* Tus palabras afectan relaciones. Algunas frases pueden abrir nuevas rutas, otras cerrarlas para siempre. Incluso puedes elegir no hablarâ€¦ y eso tambiÃ©n tiene consecuencias.
* El juego presentarÃ¡ situaciones donde no hay una "elecciÃ³n buena" o "mala" clara. Las decisiones afectarÃ¡n un sistema de valores internos o "salud mental/moral" oculta del personaje, influenciada por los rasgos y traumas generados en tu origen, que influirÃ¡ sutilmente en futuras reacciones, opciones de diÃ¡logo o incluso desenlaces de vida a largo plazo, aÃ±adiendo capas de complejidad emocional.

### 7. **Mundo Reactivo y Memoria del Juego (Inspirado en Historiales)**
* Tus acciones tienen consecuencias permanentes.
* Personajes recuerdan lo que hiciste (si lo presenciaron o se enteraron).
* El mundo cambia segÃºn tus actos, aunque nadie mÃ¡s lo note, y estos cambios pueden afectar futuras interacciones o oportunidades.

### 8. **Finales Ãšnicos y Legado (Con Ecos de la Historia del Mundo)**
* No hay un solo final. Hay docenas. Tu final depende de quÃ© hiciste, cÃ³mo moriste, cÃ³mo te recordaron y si dejaste legado o fuiste olvidado.
* **Ecos del Pasado (GeneraciÃ³n Continuada):** Tu vida no termina con tu muerte. Dependiendo de cÃ³mo viviste y tu legado (bueno o malo), el mundo puede recordar a tu personaje. Esto podrÃ­a manifestarse en futuras partidas, donde un nuevo personaje generado pueda encontrar monumentos, ruinas, historias orales o incluso NPCs descendientes de aquellos con los que interactuÃ³ tu vida anterior, con sus propias opiniones basadas en tus acciones pasadas.

### 9. **ReincorporaciÃ³n con Memoria Parcial**
* Si mueres, puedes "reiniciar".
* Pero no recuerdas todo.
* Solo sabes que has vivido antesâ€¦ y que quizÃ¡s esta vez puedas cambiar algo.

### 10. **Sistema de Objetos Defectuosos y Eventos Impredecibles**
* Armas que fallan.
* Comida en mal estado.
* Pociones que curanâ€¦ o envenenan.
* Objetos con pasado propio.
* Eventos menores aleatorios (ej. un encuentro con un animal salvaje, una tormenta repentina, encontrar un objeto olvidado) pueden ocurrir en cualquier momento, aÃ±adiendo imprevisibilidad al viaje.

---

## ğŸ§© Â¿QUÃ‰ TIPO DE VIDAS PUEDEN OCURRIR?

| Tipo de vida | DescripciÃ³n |
| :----------- | :---------- |
| **Normal** | Viviste y moriste sin hacer nada memorable |
| **Aventurera** | Viajaste, descubriste cosas, tal vez salvaste al mundo |
| **Noble** | Subiste de posiciÃ³n, gobernaste, hiciste leyes |
| **Oscura** | Tomaste caminos prohibidos, mataste, mentiste, sobreviviste |
| **Redimida** | Cometiste errores, pero al final intentaste enmendarte |
| **TrÃ¡gica** | TenÃ­as potencial, pero caÃ­ste por errores, traiciones o mala suerte |
| **Legendaria** | Tu nombre se canta en todas partes, incluso despuÃ©s de muerto |

---

## ğŸª™ NO HAY UN CAMINO CORRECTO

El juego no premia la bondad, ni castiga la maldad. Simplemente te da libertad. Lo demÃ¡s depende de ti.

---

## ğŸŒŸ FRASE FINAL PARA EL PLAN

> "Este no es un juego sobre salvar al mundo. Es un juego sobre vivir una vida. Una vida que no elegiste. Pero que tÃº defines. Y el mundo, sin importar quÃ©, te recordarÃ¡ a su manera."

---

## ğŸ› ï¸ TECNOLOGÃAS Y ARQUITECTURA

### **TecnologÃ­as Principales:**
- **Framework**: Flutter 3.x + Dart
- **UI**: Widgets nativos + Custom Paint para pixel art
- **Audio**: audioplayers package para mÃºsica CC0
- **Fuentes**: Google Fonts + custom pixel fonts
- **Base de datos**: Hive (local NoSQL) + SQLite para datos complejos
- **CompilaciÃ³n**: Flutter build apk/appbundle para Android

### **Motor del Juego y Interfaz de Usuario (Flutter - Nativo Android):**
* **Lenguaje:** **Dart**
* **Framework UI:** **Flutter** (para renderizado nativo, animations fluidas, y pixel art con Custom Paint)
* **Empaquetado Android (APK/AAB):** **Flutter build** (compilaciÃ³n nativa optimizada para Google Play Store)
* **Base de Datos Local:** **Hive** (NoSQL rÃ¡pido) + **SQLite** (para consultas complejas)
* **Packages Dart:** `json_annotation`, `dart:math`, `dart:collection` para lÃ³gica de juego
* **Manejo de Audio:** `audioplayers` package con soporte completo para loops y control de volumen

---

## ğŸ¨ ESTILO VISUAL Y UI

### **Estilo Visual Undertale/Deltarune/Celeste:**
- **Fondo**: Negro puro `rgba: 0, 0, 0, 1`
- **Texto principal**: Blanco `rgba: 1, 1, 1, 1`
- **Acentos**: Amarillo retro `rgba: 1, 1, 0.7, 1`
- **Bordes**: Blancos gruesos para estilo pixelado
- **Fuentes**: Press Start 2P (principal), pixel_font.ttf (alternativa)

### **Resoluciones de Pantalla Objetivo y Escalado de PÃ­xeles:**
* **ResoluciÃ³n Interna/Base de PÃ­xeles Virtuales:** Se definirÃ¡ una resoluciÃ³n de "pÃ­xeles virtuales" para el diseÃ±o base de la UI (ej., `width: 320px`, `height: 240px` o `width: 480px`, `height: 270px`, que son proporciones de aspecto de juegos clÃ¡sicos). Kivy trabajarÃ¡ con estas unidades.
* **AdaptaciÃ³n a Pantallas FÃ­sicas:** Kivy escalarÃ¡ esta resoluciÃ³n interna para llenar la pantalla del dispositivo Android.
* **Manejo de Proporciones de Aspecto:** Para las pantallas Android modernas (que a menudo tienen proporciones de aspecto no estÃ¡ndar como 19:9 o 20:9), la UI se ajustarÃ¡ manteniendo la proporciÃ³n de aspecto del diseÃ±o base.

---

## ğŸµ AUDIO GUIDELINES

### **Fuentes de MÃºsica CC0:**
- **OpenGameArt.org**: Fuente principal - buscar etiquetas "chiptune", "8-bit", "16-bit", "retro", "RPG music"
- **Kenney.nl**: UI Audio Pack - CC0, perfecto para sonidos de interfaz
- **Licencias**: Preferir CC0, mÃ¡ximo CC-BY
- **Formatos**: MP3 (menÃº), OGG (juego), WAV (efectos)
- **Volumen**: Sistema de control dinÃ¡mico implementado
- **Loops**: MÃºsica debe hacer loop seamless

### **MÃºsica Actual Implementada:**
- âœ… **"The Bard's Tale"** - MenÃº principal (CC0) por RandomMind
- âœ… **"8-Bit Battle Loop"** - Combates normales (CC0) por Wolfgang_
- âœ… **"8 bit battle theme"** - Batallas intensas (CC0) por celestialghost8

---

## ğŸ“ ORGANIZACIÃ“N DEL PROYECTO

```
proyecto/
â”œâ”€â”€ lib/                    # ğŸ® CÃ³digo principal Flutter/Dart
â”‚   â”œâ”€â”€ main.dart          # ğŸš€ Punto de entrada principal
â”‚   â”œâ”€â”€ screens/           # ğŸ–¼ï¸ Pantallas de la aplicaciÃ³n
â”‚   â”‚   â”œâ”€â”€ main_menu_screen.dart   # ğŸ“‹ MenÃº principal
â”‚   â”‚   â””â”€â”€ game_screen.dart        # ğŸ® Pantalla de juego
â”‚   â”œâ”€â”€ widgets/           # ğŸ§© Widgets personalizados Undertale-style
â”‚   â”‚   â”œâ”€â”€ undertale_text_box.dart # ğŸ’¬ Caja de texto estilo Undertale
â”‚   â”‚   â”œâ”€â”€ pixel_button.dart       # ğŸ”˜ Botones pixelados
â”‚   â”‚   â””â”€â”€ breathing_widget.dart   # âœ¨ Animaciones sutiles
â”‚   â”œâ”€â”€ logic/             # ğŸ§  LÃ³gica del juego
â”‚   â”‚   â”œâ”€â”€ world_generator.dart    # GeneraciÃ³n inicial de mundo, personaje y familia
â”‚   â”‚   â”œâ”€â”€ story_engine.dart       # GestiÃ³n de ramificaciones, avance narrativo
â”‚   â”‚   â”œâ”€â”€ character.dart          # Modelo de personaje y atributos
â”‚   â”‚   â”œâ”€â”€ world_events.dart       # LÃ³gica de eventos aleatorios y emergentes
â”‚   â”‚   â”œâ”€â”€ npc_manager.dart        # LÃ³gica para gestiÃ³n de NPCs
â”‚   â”‚   â”œâ”€â”€ location_arcs.dart      # LÃ³gica para gestionar arcos de historia
â”‚   â”‚   â”œâ”€â”€ legacy_system.dart      # LÃ³gica de Legado y ReencarnaciÃ³n
â”‚   â”‚   â””â”€â”€ utils.dart              # Utilidades diversas
â”‚   â”œâ”€â”€ services/          # ğŸ”§ Servicios de la aplicaciÃ³n
â”‚   â”‚   â”œâ”€â”€ audio_manager.dart      # ğŸµ GestiÃ³n de audio y mÃºsica
â”‚   â”‚   â””â”€â”€ database_service.dart   # ğŸ’¾ Servicio de base de datos
â”‚   â””â”€â”€ models/            # ğŸ“Š Modelos de datos
â”‚       â”œâ”€â”€ game_node.dart         # Modelo de nodos narrativos
â”‚       â”œâ”€â”€ npc.dart               # Modelo de NPCs
â”‚       â””â”€â”€ location.dart          # Modelo de ubicaciones
â”œâ”€â”€ assets/                # ğŸ¨ Recursos multimedia
â”‚   â”œâ”€â”€ audio/             # ğŸµ MÃºsica CC0 y efectos
â”‚   â”œâ”€â”€ fonts/             # âœï¸ Fuentes pixeladas
â”‚   â””â”€â”€ images/            # ğŸ–¼ï¸ Pixel art
â”œâ”€â”€ data/                  # ğŸ“Š Datos JSON del juego
â”‚   â”œâ”€â”€ nodes/             # Archivos JSON de nodos narrativos
â”‚   â”œâ”€â”€ npcs/              # Datos de NPCs fijos
â”‚   â”œâ”€â”€ locations/         # Datos de ubicaciones y arcos de historia
â”‚   â””â”€â”€ items/             # Datos de objetos
â”œâ”€â”€ android/               # ğŸ“± ConfiguraciÃ³n Android especÃ­fica
â”œâ”€â”€ pubspec.yaml           # ğŸ“¦ Dependencias Flutter/Dart
â”œâ”€â”€ .gitignore             # ğŸš« Archivos a ignorar
â””â”€â”€ README.md              # ğŸ“„ DocumentaciÃ³n
```

---

## ğŸš€ COMANDOS DE DESARROLLO

### **Comandos Principales:**
```bash
# âœ… Ejecutar aplicaciÃ³n en desarrollo
flutter run

# âœ… Ejecutar en dispositivo Android especÃ­fico
flutter run -d android

# âœ… Hot reload durante desarrollo
# r - hot reload
# R - hot restart

# âœ… Compilar APK para distribuciÃ³n
flutter build apk

# âœ… Compilar AAB para Google Play Store
flutter build appbundle

# âœ… Instalar dependencias
flutter pub get

# âœ… Limpiar build cache
flutter clean
```

### **Convenciones de CÃ³digo:**

#### Dart (main.dart y archivos .dart)
```dart
// Siempre usar imports organizados:
// 1. Dart core libraries
// 2. Flutter framework
// 3. Third-party packages
// 4. Local modules

import 'dart:math';
import 'package:flutter/material.dart';
import 'package:audioplayers/audioplayers.dart';
import 'screens/main_menu_screen.dart';

// Clases con documentaciÃ³n descriptiva
/// Pantalla principal del juego con interfaz retro Undertale-style
class GameScreen extends StatefulWidget {
  const GameScreen({Key? key}) : super(key: key);
}
```

#### Widgets Personalizados
```dart
// Widgets reutilizables con parÃ¡metros configurables
// Usar const constructors cuando sea posible
// Naming descriptivo en camelCase

class UndertaleTextBox extends StatelessWidget {
  const UndertaleTextBox({
    Key? key,
    required this.text,
    this.isSelected = false,
  }) : super(key: key);
  
  final String text;
  final bool isSelected;
}
```

---

## ğŸ“„ FORMATO DE NODOS JSON

```json
{
  "id": "evento_inicio_pobreza",
  "type": "start",
  "locationArc": "aldea_campesina",
  "title": "Nacimiento en la Pobreza",
  "imageAsset": "assets/images/birth_poor_village.png",
  "text": "Naciste en una aldea humilde, rodeado de hambre y enfermedades. El aire era pesado, la esperanza escasa.",
  "musicAsset": "assets/audio/melancholy_theme.ogg",
  "sfxAsset": "assets/audio/baby_cry.wav",
  "options": [
    {
      "text": "Intentar trabajar desde joven",
      "nextNodeId": "evento_trabajo_duro"
    },
    {
      "text": "Buscar educaciÃ³n a toda costa",
      "nextNodeId": "evento_estudio"
    }
  ],
  "effects": {
    "healthChange": -5,
    "moneyChange": 0,
    "memoryAdd": "Primeros aÃ±os de privaciÃ³n."
  },
  "npcsPresent": ["OldManGrumpy", "YoungMaria"]
}
```

---

## âœ¨ ESTADO ACTUAL (v0.1)

### **âœ… Completado:**
- ğŸ–¤ Interfaz estilo Undertale/Deltarune/Celeste con fondo negro
- ğŸµ Sistema de audio completo con mÃºsica de fondo  
- ğŸ¨ Fuentes pixeladas (Press Start 2P + Determination Mono)
- âœ¨ Animaciones sutiles (breathing, fade, glow, typewriter)
- ğŸ›ï¸ Controles de audio (play/stop, volumen, toggle)
- ğŸ“± Preparado para compilaciÃ³n Android
- ğŸµ MÃºsica CC0 integrada ("The Bard's Tale" + batallas)
- ğŸ“‹ DocumentaciÃ³n completa (README, CREDITS)
- ğŸ—‚ï¸ Estructura de proyecto completa

### **ğŸ”„ En desarrollo:**
- Sistema de juego principal (generaciÃ³n de vidas aleatorias)
- LÃ³gica de NPCs dinÃ¡micos y condicionales
- Arcos de historia por localizaciÃ³n
- Sistema de tiempo y envejecimiento
- Base de datos de persistencia

---

## ğŸ¯ FILOSOFÃA DEL JUEGO

**"No eliges quiÃ©n eres. Solo vives lo que te toca."**
- GeneraciÃ³n completamente aleatoria de personaje inicial
- Decisiones con consecuencias permanentes
- NPCs que aparecen segÃºn tu trayectoria de vida
- Sistema de legado entre partidas
- Experiencia Ãºnica en cada playthrough

---

## ğŸ”„ PRÃ“XIMOS PASOS SUGERIDOS

**Al finalizar cada mensaje, el asistente debe sugerir 2-3 prÃ³ximos pasos concretos basados en:**

### **CategorÃ­as de prÃ³ximos pasos:**
1. **Sistema de juego**: Implementar generaciÃ³n de vidas, NPCs, arcos de historia
2. **UI/UX**: Mejorar interfaz, aÃ±adir pantallas, efectos visuales
3. **Audio**: Expandir biblioteca de mÃºsica, implementar SFX
4. **Contenido**: Crear nodos narrativos, NPCs, ubicaciones
5. **OptimizaciÃ³n**: Mejorar rendimiento, preparar para Android
6. **Testing**: Probar funcionalidades, corregir bugs

### **Formato sugerido:**
```
ğŸ”„ **PrÃ³ximos pasos sugeridos:**
1. **[CategorÃ­a]**: [DescripciÃ³n especÃ­fica]
2. **[CategorÃ­a]**: [DescripciÃ³n especÃ­fica] 
3. **[CategorÃ­a]**: [DescripciÃ³n especÃ­fica]
```

---

### **InstrucciÃ³n de Commit para el CÃ³digo Generado:**

**Cada vez que genere cÃ³digo que deba ser integrado en el proyecto, enviarÃ© un mensaje de commit y las instrucciones de push para su repositorio.**

```bash
git remote add origin git@github.com:casmian/AlifeIsArandomJournney.git
git branch -M main
git push -u origin main
```

---

## ğŸ› ERRORES COMUNES Y SOLUCIONES

### **âš ï¸ Lista de Errores Documentados**

#### **1. Error de Widget Tree**
- **SÃ­ntomas**: `The widget which was the parent of the widget that originally had the global key`
- **Causas Comunes**:
  - Keys duplicadas en widgets
  - Cambios de estado sin setState()
- **SoluciÃ³n**: Usar UniqueKey() o keys apropiadas

#### **2. Error de Assets Not Found**
- **SÃ­ntomas**: `Unable to load asset: assets/audio/music.mp3`
- **Causas**: Assets no declarados en pubspec.yaml
- **SoluciÃ³n Correcta**:
  ```yaml
  # pubspec.yaml
  flutter:
    assets:
      - assets/audio/
      - assets/fonts/
      - assets/images/
  ```

#### **3. Error de Null Safety**
- **SÃ­ntomas**: `The argument type 'String?' can't be assigned to the parameter type 'String'`
- **Causas**: Variables nullable sin verificaciÃ³n
- **SoluciÃ³n**:
  ```dart
  // âŒ INCORRECTO:
  String title = data['title'];
  
  // âœ… CORRECTO:
  String title = data['title'] ?? 'Default Title';
  ```

#### **4. Error de State Lifecycle**
- **SÃ­ntomas**: `setState() called after dispose()`
- **Causas**: Llamadas async que actualizan estado despuÃ©s de dispose
- **SoluciÃ³n**:
  ```dart
  if (mounted) {
    setState(() {
      // Update state
    });
  }
  ```

#### **5. Error de Audio Player**
- **SÃ­ntomas**: `PlatformException: Error loading audio`
- **Causas**: Paths incorrectos o formatos no soportados
- **SoluciÃ³n**:
  ```dart
  // âœ… CORRECTO para assets:
  await audioPlayer.play(AssetSource('audio/music.mp3'));
  
  // âœ… CORRECTO para archivos locales:
  await audioPlayer.play(DeviceFileSource(filePath));
  ```

### **ğŸ”§ Checklist de VerificaciÃ³n Pre-Commit**
1. âœ… Verificar que todos los assets estÃ©n en pubspec.yaml
2. âœ… Confirmar que no hay errores de null safety
3. âœ… Probar hot reload funciona correctamente
4. âœ… Verificar que flutter analyze no muestre warnings
5. âœ… Confirmar que todos los imports son correctos

### **ğŸš¨ Al Encontrar Errores Nuevos**
**Cuando se encuentren errores no documentados aquÃ­:**
1. Agregar descripciÃ³n del sÃ­ntoma con stack trace
2. Documentar la causa raÃ­z
3. Proporcionar soluciÃ³n exacta con cÃ³digo
4. Actualizar el checklist si es necesario

---

*Estas reglas aseguran consistencia en el desarrollo y mantienen la visiÃ³n del proyecto enfocada en la experiencia retro autÃ©ntica y la simulaciÃ³n profunda de vida.*





