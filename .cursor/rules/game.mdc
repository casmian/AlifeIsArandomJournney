---
description: 
globs: 
alwaysApply: false
---
# üéÆ A Life Is A Random Journey - Reglas de Cursor

## üéÆ T√çTULO DEL PROYECTO

**"A Life Is A Random Journey"**

> Un RPG de texto donde no eliges qui√©n eres. Solo vives lo que te toca.

---

## üß† CONCEPTO GENERAL

Este es un **RPG de texto √∫nico e inmersivo**, donde cada partida es una vida diferente, **inspirado en la simulaci√≥n profunda y la generaci√≥n de narrativa emergente de Dwarf Fortress**. No eliges tu nombre, g√©nero, clase social ni destino inicial. Solo recibes lo que el mundo decide darte‚Ä¶ y decides qu√© hacer con ello.

Es como si estuvieras viviendo una novela interactiva que cambia completamente en cada partida, con una **interfaz de usuario que evoca el estilo pixelado y nost√°lgico de Undertale/Deltarune**, pero ejecut√°ndose con fluidez y adapt√°ndose completamente a las pantallas de Android, acompa√±ada de **audio de alta calidad** (m√∫sica y efectos) para una inmersi√≥n profunda.

### **Puntos Clave del Enfoque:**
* **Generaci√≥n de Vida Profunda (Dwarf Fortress-like):** El juego no solo genera tu personaje, sino tambi√©n un **micro-mundo inicial y un trasfondo familiar detallado**, creando una "historia" emergente incluso antes de que el juego comience.
* **Narrativa Din√°mica y Emergente:** Construida sobre **personajes no jugadores (NPCs) complejos con historias propias que pueden cruzarse con la tuya de forma condicional**, y **arcos de historia espec√≠ficos basados en la localizaci√≥n o trayectoria de vida del jugador**. Esto permite una rejugabilidad exponencial y una sensaci√≥n de vivir una vida verdaderamente √∫nica, donde las interacciones de los sistemas generan sus propias tramas.
* **Experiencia Offline Total:** Toda la l√≥gica del juego y la persistencia de datos residir√°n de forma segura y aut√≥noma en el propio dispositivo Android del usuario, garantizando una experiencia de juego completamente offline.
* **Generaci√≥n Procedural Ligera:** Si bien la historia principal y los arcos de localizaci√≥n son predefinidos, se explorar√° el uso de plantillas de texto y combinaci√≥n de elementos (adjetivos, sustantivos, verbos aleatorios) para generar descripciones y eventos menores de forma procedural. Esto aumentar√° a√∫n m√°s la variedad y la sensaci√≥n de una vida verdaderamente √∫nica, sin requerir la creaci√≥n manual de cada micro-evento.

---

## üåç AMBIENTACI√ìN

Un mundo de fantas√≠a realista, donde:
* Existen magia, dragones, elfos y reinos.
* Pero tambi√©n hay pobreza, enfermedades, traiciones, accidentes y muertes sin gloria.
* No todo tiene sentido. A veces, simplemente pasa algo y ya.
* Las decisiones importan, pero no siempre obtienes un final feliz.

---

## üß¨ LO QUE HACE TU JUEGO √öNICO

Tu juego no sigue una historia lineal. Es una **experiencia personalizada y profundamente emocional**, donde la **simulaci√≥n de vida y los sistemas interconectados** dan lugar a una narrativa que se *emerge* de tus acciones y el mundo generado. Cada jugador vive una vida distinta, sin las limitaciones de un personaje predefinido, y esa vida se siente org√°nicamente formada por el entorno. Y eso lo hace rejugable, impredecible y aut√©ntico.

---

## üìã PLAN GENERAL DEL JUEGO

### 1. **Generaci√≥n de Origen Profundo (Inspirado en Dwarf Fortress)**
* El juego genera autom√°ticamente una **"historia de nacimiento"** detallada para tu personaje y su entorno inicial:
    * **Tu Nombre y G√©nero.**
    * **Tu Lugar de Nacimiento:** Con detalles sobre la regi√≥n (¬øes una zona en conflicto, prospera, desolada?), su industria principal (agr√≠cola, minera, militar) y su cultura dominante.
    * **Tu Familia:** Generaci√≥n de padres y hermanos cercanos con **rasgos de personalidad b√°sicos, relaciones entre ellos** (rivalidad, amistad, conflicto) e incluso **una breve historia familiar** (¬øeran nobles venidos a menos, una l√≠nea de guerreros, campesinos leales?).
    * **Tu Evento Inicial (Catalizador):** Un evento aleatorio significativo que marca el inicio de tu vida y moldea los rasgos iniciales del personaje (ej: nacer durante una plaga, ser abandonado, un golpe de suerte inesperado, un ataque bandido en la aldea).
    * **Atributos y Rasgos Ocultos:** Basados en el origen y los eventos iniciales (ej. "Traumatizado por la guerra", "Hijo de comerciantes", "Curioso por naturaleza"). Estos rasgos influir√°n sutilmente en las opciones de di√°logo, las reacciones de los NPCs o las consecuencias de las acciones.

### 2. **Vida Ramificada y Arcos de Localizaci√≥n**
* Cada decisi√≥n te lleva por un camino distinto.
* **La historia se desarrolla en "arcos" o "cap√≠tulos" basados en la ubicaci√≥n y las decisiones del jugador.** Por ejemplo:
    * Si entras en la academia, la narrativa se centra en la vida acad√©mica, los profesores, rivalidades y eventos dentro de la academia.
    * Si terminas en el palacio, la trama gira en torno a intrigas cortesanas, reyes, nobles y misiones diplom√°ticas/militares dentro de ese entorno.
    * Lo mismo para un gremio de ladrones, una granja aislada, un campamento de mercenarios, etc.
* Puedes ser:
    * Un h√©roe legendario
    * Un villano temido
    * Un campesino com√∫n
    * Un rey amado o odiado
    * Un asesino arrepentido
    * Un bandido sin remordimientos
    * O incluso alguien que nunca logra nada importante

### 3. **Personajes No Jugadores (NPCs) Vivos y Complejos (Inspirado en Dwarf Fortress)**
* **NPCs Fijos con Historias Emergentes:** Habr√° un conjunto de NPCs con nombres y personalidades predefinidas. Sin embargo, su **historia personal, relaciones con otros NPCs (previamente generadas)** y eventos relevantes en su vida (como morir, tener hijos, cambiar de profesi√≥n) pueden generarse o revelarse din√°micamente a medida que interact√∫as con ellos o los eventos mundiales los afectan.
* **Encuentros Condicionales:** Que conozcas o no a un NPC depender√° completamente del camino que tome tu vida. Un NPC puede morir sin haberte conocido si los eventos de su propia vida o de la historia general as√≠ lo dictan.
* **Relaciones Inter-NPCs:** Las relaciones de los NPCs entre s√≠ (enemistades, amistades, deudas, familiares) pueden influir en sus decisiones y reacciones hacia ti, creando subtramas.
* **Tus Interacciones Afectan su Destino:** Tus acciones (o la falta de ellas) con un NPC pueden alterar su trayectoria de vida de forma significativa, e incluso llevarlos a la muerte o a la grandeza.

### 4. **Fantas√≠a Realista y Sistemas Interconectados**
* Magia, dragones y criaturas existen...
* Pero tambi√©n hay hambre, corrupci√≥n, miedo, vejez y muerte natural.
* **Todo puede fallar:** Inspirado en la aleatoriedad y la interconexi√≥n de sistemas de Dwarf Fortress, tu arma puede romperse en el momento cr√≠tico, tu comida puede estar podrida, tu mente puede enga√±arte, o un evento aparentemente menor puede desencadenar una serie de catastr√≥ficas desdichas.
* No todo tiene sentido. A veces, simplemente pasa algo y ya.

### 5. **Sistema de Tiempo y Edad**
* Envejeces naturalmente.
* Puedes morir joven por una decisi√≥n tonta.
* O llegar a viejo, pregunt√°ndote si vali√≥ la pena todo lo hecho.

### 6. **Di√°logos con Peso Emocional y Dilemas Morales (Inspirado en Rasgos y Traumas)**
* Tus palabras afectan relaciones. Algunas frases pueden abrir nuevas rutas, otras cerrarlas para siempre. Incluso puedes elegir no hablar‚Ä¶ y eso tambi√©n tiene consecuencias.
* El juego presentar√° situaciones donde no hay una "elecci√≥n buena" o "mala" clara. Las decisiones afectar√°n un sistema de valores internos o "salud mental/moral" oculta del personaje, influenciada por los rasgos y traumas generados en tu origen, que influir√° sutilmente en futuras reacciones, opciones de di√°logo o incluso desenlaces de vida a largo plazo, a√±adiendo capas de complejidad emocional.

### 7. **Mundo Reactivo y Memoria del Juego (Inspirado en Historiales)**
* Tus acciones tienen consecuencias permanentes.
* Personajes recuerdan lo que hiciste (si lo presenciaron o se enteraron).
* El mundo cambia seg√∫n tus actos, aunque nadie m√°s lo note, y estos cambios pueden afectar futuras interacciones o oportunidades.

### 8. **Finales √önicos y Legado (Con Ecos de la Historia del Mundo)**
* No hay un solo final. Hay docenas. Tu final depende de qu√© hiciste, c√≥mo moriste, c√≥mo te recordaron y si dejaste legado o fuiste olvidado.
* **Ecos del Pasado (Generaci√≥n Continuada):** Tu vida no termina con tu muerte. Dependiendo de c√≥mo viviste y tu legado (bueno o malo), el mundo puede recordar a tu personaje. Esto podr√≠a manifestarse en futuras partidas, donde un nuevo personaje generado pueda encontrar monumentos, ruinas, historias orales o incluso NPCs descendientes de aquellos con los que interactu√≥ tu vida anterior, con sus propias opiniones basadas en tus acciones pasadas.

### 9. **Reincorporaci√≥n con Memoria Parcial**
* Si mueres, puedes "reiniciar".
* Pero no recuerdas todo.
* Solo sabes que has vivido antes‚Ä¶ y que quiz√°s esta vez puedas cambiar algo.

### 10. **Sistema de Objetos Defectuosos y Eventos Impredecibles**
* Armas que fallan.
* Comida en mal estado.
* Pociones que curan‚Ä¶ o envenenan.
* Objetos con pasado propio.
* Eventos menores aleatorios (ej. un encuentro con un animal salvaje, una tormenta repentina, encontrar un objeto olvidado) pueden ocurrir en cualquier momento, a√±adiendo imprevisibilidad al viaje.

---

## üß© ¬øQU√â TIPO DE VIDAS PUEDEN OCURRIR?

| Tipo de vida | Descripci√≥n |
| :----------- | :---------- |
| **Normal** | Viviste y moriste sin hacer nada memorable |
| **Aventurera** | Viajaste, descubriste cosas, tal vez salvaste al mundo |
| **Noble** | Subiste de posici√≥n, gobernaste, hiciste leyes |
| **Oscura** | Tomaste caminos prohibidos, mataste, mentiste, sobreviviste |
| **Redimida** | Cometiste errores, pero al final intentaste enmendarte |
| **Tr√°gica** | Ten√≠as potencial, pero ca√≠ste por errores, traiciones o mala suerte |
| **Legendaria** | Tu nombre se canta en todas partes, incluso despu√©s de muerto |

---

## ü™ô NO HAY UN CAMINO CORRECTO

El juego no premia la bondad, ni castiga la maldad. Simplemente te da libertad. Lo dem√°s depende de ti.

---

## üåü FRASE FINAL PARA EL PLAN

> "Este no es un juego sobre salvar al mundo. Es un juego sobre vivir una vida. Una vida que no elegiste. Pero que t√∫ defines. Y el mundo, sin importar qu√©, te recordar√° a su manera."

---

## üõ†Ô∏è TECNOLOG√çAS Y ARQUITECTURA

### **Tecnolog√≠as Principales:**
- **Framework**: Flutter 3.x + Dart
- **UI**: Widgets nativos + Custom Paint para pixel art
- **Audio**: audioplayers package para m√∫sica CC0
- **Fuentes**: Google Fonts + custom pixel fonts
- **Base de datos**: Hive (local NoSQL) + SQLite para datos complejos
- **Compilaci√≥n**: Flutter build apk/appbundle para Android

### **Motor del Juego y Interfaz de Usuario (Flutter - Nativo Android):**
* **Lenguaje:** **Dart**
* **Framework UI:** **Flutter** (para renderizado nativo, animations fluidas, y pixel art con Custom Paint)
* **Empaquetado Android (APK/AAB):** **Flutter build** (compilaci√≥n nativa optimizada para Google Play Store)
* **Base de Datos Local:** **Hive** (NoSQL r√°pido) + **SQLite** (para consultas complejas)
* **Packages Dart:** `json_annotation`, `dart:math`, `dart:collection` para l√≥gica de juego
* **Manejo de Audio:** `audioplayers` package con soporte completo para loops y control de volumen

---

## üé® ESTILO VISUAL Y UI

### **Estilo Visual Undertale/Deltarune/Celeste:**
- **Fondo**: Negro puro `rgba: 0, 0, 0, 1`
- **Texto principal**: Blanco `rgba: 1, 1, 1, 1`
- **Acentos**: Amarillo retro `rgba: 1, 1, 0.7, 1`
- **Bordes**: Blancos gruesos para estilo pixelado
- **Fuentes**: Press Start 2P (principal), pixel_font.ttf (alternativa)

### **Resoluciones de Pantalla Objetivo y Escalado de P√≠xeles:**
* **Resoluci√≥n Interna/Base de P√≠xeles Virtuales:** Se definir√° una resoluci√≥n de "p√≠xeles virtuales" para el dise√±o base de la UI (ej., `width: 320px`, `height: 240px` o `width: 480px`, `height: 270px`, que son proporciones de aspecto de juegos cl√°sicos). Kivy trabajar√° con estas unidades.
* **Adaptaci√≥n a Pantallas F√≠sicas:** Kivy escalar√° esta resoluci√≥n interna para llenar la pantalla del dispositivo Android.
* **Manejo de Proporciones de Aspecto:** Para las pantallas Android modernas (que a menudo tienen proporciones de aspecto no est√°ndar como 19:9 o 20:9), la UI se ajustar√° manteniendo la proporci√≥n de aspecto del dise√±o base.

---

## üéµ AUDIO GUIDELINES

### **Fuentes de M√∫sica CC0:**
- **OpenGameArt.org**: Fuente principal - buscar etiquetas "chiptune", "8-bit", "16-bit", "retro", "RPG music"
- **Kenney.nl**: UI Audio Pack - CC0, perfecto para sonidos de interfaz
- **Licencias**: Preferir CC0, m√°ximo CC-BY
- **Formatos**: MP3 (men√∫), OGG (juego), WAV (efectos)
- **Volumen**: Sistema de control din√°mico implementado
- **Loops**: M√∫sica debe hacer loop seamless

### **M√∫sica Actual Implementada:**
- ‚úÖ **"The Bard's Tale"** - Men√∫ principal (CC0) por RandomMind
- ‚úÖ **"8-Bit Battle Loop"** - Combates normales (CC0) por Wolfgang_
- ‚úÖ **"8 bit battle theme"** - Batallas intensas (CC0) por celestialghost8

---

## üìÅ ORGANIZACI√ìN DEL PROYECTO

```
proyecto/
‚îú‚îÄ‚îÄ lib/                    # üéÆ C√≥digo principal Flutter/Dart
‚îÇ   ‚îú‚îÄ‚îÄ main.dart          # üöÄ Punto de entrada principal
‚îÇ   ‚îú‚îÄ‚îÄ screens/           # üñºÔ∏è Pantallas de la aplicaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main_menu_screen.dart   # üìã Men√∫ principal
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ game_screen.dart        # üéÆ Pantalla de juego
‚îÇ   ‚îú‚îÄ‚îÄ widgets/           # üß© Widgets personalizados Undertale-style
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ undertale_text_box.dart # üí¨ Caja de texto estilo Undertale
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pixel_button.dart       # üîò Botones pixelados
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ breathing_widget.dart   # ‚ú® Animaciones sutiles
‚îÇ   ‚îú‚îÄ‚îÄ logic/             # üß† L√≥gica del juego
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ world_generator.dart    # Generaci√≥n inicial de mundo, personaje y familia
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ story_engine.dart       # Gesti√≥n de ramificaciones, avance narrativo
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ character.dart          # Modelo de personaje y atributos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ world_events.dart       # L√≥gica de eventos aleatorios y emergentes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ npc_manager.dart        # L√≥gica para gesti√≥n de NPCs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ location_arcs.dart      # L√≥gica para gestionar arcos de historia
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ legacy_system.dart      # L√≥gica de Legado y Reencarnaci√≥n
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils.dart              # Utilidades diversas
‚îÇ   ‚îú‚îÄ‚îÄ services/          # üîß Servicios de la aplicaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ audio_manager.dart      # üéµ Gesti√≥n de audio y m√∫sica
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database_service.dart   # üíæ Servicio de base de datos
‚îÇ   ‚îî‚îÄ‚îÄ models/            # üìä Modelos de datos
‚îÇ       ‚îú‚îÄ‚îÄ game_node.dart         # Modelo de nodos narrativos
‚îÇ       ‚îú‚îÄ‚îÄ npc.dart               # Modelo de NPCs
‚îÇ       ‚îî‚îÄ‚îÄ location.dart          # Modelo de ubicaciones
‚îú‚îÄ‚îÄ assets/                # üé® Recursos multimedia
‚îÇ   ‚îú‚îÄ‚îÄ audio/             # üéµ M√∫sica CC0 y efectos
‚îÇ   ‚îú‚îÄ‚îÄ fonts/             # ‚úçÔ∏è Fuentes pixeladas
‚îÇ   ‚îî‚îÄ‚îÄ images/            # üñºÔ∏è Pixel art
‚îú‚îÄ‚îÄ data/                  # üìä Datos JSON del juego
‚îÇ   ‚îú‚îÄ‚îÄ nodes/             # Archivos JSON de nodos narrativos
‚îÇ   ‚îú‚îÄ‚îÄ npcs/              # Datos de NPCs fijos
‚îÇ   ‚îú‚îÄ‚îÄ locations/         # Datos de ubicaciones y arcos de historia
‚îÇ   ‚îî‚îÄ‚îÄ items/             # Datos de objetos
‚îú‚îÄ‚îÄ android/               # üì± Configuraci√≥n Android espec√≠fica
‚îú‚îÄ‚îÄ pubspec.yaml           # üì¶ Dependencias Flutter/Dart
‚îú‚îÄ‚îÄ .gitignore             # üö´ Archivos a ignorar
‚îî‚îÄ‚îÄ README.md              # üìÑ Documentaci√≥n
```

---

## üöÄ COMANDOS DE DESARROLLO

### **Comandos Principales:**
```bash
# ‚úÖ Ejecutar aplicaci√≥n en desarrollo
flutter run

# ‚úÖ Ejecutar en dispositivo Android espec√≠fico
flutter run -d android

# ‚úÖ Hot reload durante desarrollo
# r - hot reload
# R - hot restart

# ‚úÖ Compilar APK para distribuci√≥n
flutter build apk

# ‚úÖ Compilar AAB para Google Play Store
flutter build appbundle

# ‚úÖ Instalar dependencias
flutter pub get

# ‚úÖ Limpiar build cache
flutter clean
```

### **Convenciones de C√≥digo:**

#### Dart (main.dart y archivos .dart)
```dart
// Siempre usar imports organizados:
// 1. Dart core libraries
// 2. Flutter framework
// 3. Third-party packages
// 4. Local modules

import 'dart:math';
import 'package:flutter/material.dart';
import 'package:audioplayers/audioplayers.dart';
import 'screens/main_menu_screen.dart';

// Clases con documentaci√≥n descriptiva
/// Pantalla principal del juego con interfaz retro Undertale-style
class GameScreen extends StatefulWidget {
  const GameScreen({Key? key}) : super(key: key);
}
```

#### Widgets Personalizados
```dart
// Widgets reutilizables con par√°metros configurables
// Usar const constructors cuando sea posible
// Naming descriptivo en camelCase

class UndertaleTextBox extends StatelessWidget {
  const UndertaleTextBox({
    Key? key,
    required this.text,
    this.isSelected = false,
  }) : super(key: key);
  
  final String text;
  final bool isSelected;
}
```

---

## üìÑ FORMATO DE NODOS JSON

```json
{
  "id": "evento_inicio_pobreza",
  "type": "start",
  "locationArc": "aldea_campesina",
  "title": "Nacimiento en la Pobreza",
  "imageAsset": "assets/images/birth_poor_village.png",
  "text": "Naciste en una aldea humilde, rodeado de hambre y enfermedades. El aire era pesado, la esperanza escasa.",
  "musicAsset": "assets/audio/melancholy_theme.ogg",
  "sfxAsset": "assets/audio/baby_cry.wav",
  "options": [
    {
      "text": "Intentar trabajar desde joven",
      "nextNodeId": "evento_trabajo_duro"
    },
    {
      "text": "Buscar educaci√≥n a toda costa",
      "nextNodeId": "evento_estudio"
    }
  ],
  "effects": {
    "healthChange": -5,
    "moneyChange": 0,
    "memoryAdd": "Primeros a√±os de privaci√≥n."
  },
  "npcsPresent": ["OldManGrumpy", "YoungMaria"]
}
```

---

## ‚ú® ESTADO ACTUAL (v0.1)

### **‚úÖ Completado:**
- üñ§ Interfaz estilo Undertale/Deltarune/Celeste con fondo negro
- üéµ Sistema de audio completo con m√∫sica de fondo  
- üé® Fuentes pixeladas (Press Start 2P + Determination Mono)
- ‚ú® Animaciones sutiles (breathing, fade, glow, typewriter)
- üéõÔ∏è Controles de audio (play/stop, volumen, toggle)
- üì± Preparado para compilaci√≥n Android
- üéµ M√∫sica CC0 integrada ("The Bard's Tale" + batallas)
- üìã Documentaci√≥n completa (README, CREDITS)
- üóÇÔ∏è Estructura de proyecto completa

### **üîÑ En desarrollo:**
- Sistema de juego principal (generaci√≥n de vidas aleatorias)
- L√≥gica de NPCs din√°micos y condicionales
- Arcos de historia por localizaci√≥n
- Sistema de tiempo y envejecimiento
- Base de datos de persistencia

---

## üéØ FILOSOF√çA DEL JUEGO

**"No eliges qui√©n eres. Solo vives lo que te toca."**
- Generaci√≥n completamente aleatoria de personaje inicial
- Decisiones con consecuencias permanentes
- NPCs que aparecen seg√∫n tu trayectoria de vida
- Sistema de legado entre partidas
- Experiencia √∫nica en cada playthrough

---

## üîÑ PR√ìXIMOS PASOS SUGERIDOS

**Al finalizar cada mensaje, el asistente debe sugerir 2-3 pr√≥ximos pasos concretos basados en:**

### **Categor√≠as de pr√≥ximos pasos:**
1. **Sistema de juego**: Implementar generaci√≥n de vidas, NPCs, arcos de historia
2. **UI/UX**: Mejorar interfaz, a√±adir pantallas, efectos visuales
3. **Audio**: Expandir biblioteca de m√∫sica, implementar SFX
4. **Contenido**: Crear nodos narrativos, NPCs, ubicaciones
5. **Optimizaci√≥n**: Mejorar rendimiento, preparar para Android
6. **Testing**: Probar funcionalidades, corregir bugs

### **Formato sugerido:**
```
üîÑ **Pr√≥ximos pasos sugeridos:**
1. **[Categor√≠a]**: [Descripci√≥n espec√≠fica]
2. **[Categor√≠a]**: [Descripci√≥n espec√≠fica] 
3. **[Categor√≠a]**: [Descripci√≥n espec√≠fica]
```

---

### **Instrucci√≥n de Commit para el C√≥digo Generado:**

**Cada vez que genere c√≥digo que deba ser integrado en el proyecto, enviar√© un mensaje de commit y las instrucciones de push para su repositorio.**

```bash
git remote add origin git@github.com:casmian/AlifeIsArandomJournney.git
git branch -M main
git push -u origin main
```

---

## üêõ ERRORES COMUNES Y SOLUCIONES

### **‚ö†Ô∏è Lista de Errores Documentados**

#### **1. Error de Widget Tree**
- **S√≠ntomas**: `The widget which was the parent of the widget that originally had the global key`
- **Causas Comunes**:
  - Keys duplicadas en widgets
  - Cambios de estado sin setState()
- **Soluci√≥n**: Usar UniqueKey() o keys apropiadas

#### **2. Error de Assets Not Found**
- **S√≠ntomas**: `Unable to load asset: assets/audio/music.mp3`
- **Causas**: Assets no declarados en pubspec.yaml
- **Soluci√≥n Correcta**:
  ```yaml
  # pubspec.yaml
  flutter:
    assets:
      - assets/audio/
      - assets/fonts/
      - assets/images/
  ```

#### **3. Error de Null Safety**
- **S√≠ntomas**: `The argument type 'String?' can't be assigned to the parameter type 'String'`
- **Causas**: Variables nullable sin verificaci√≥n
- **Soluci√≥n**:
  ```dart
  // ‚ùå INCORRECTO:
  String title = data['title'];
  
  // ‚úÖ CORRECTO:
  String title = data['title'] ?? 'Default Title';
  ```

#### **4. Error de State Lifecycle**
- **S√≠ntomas**: `setState() called after dispose()`
- **Causas**: Llamadas async que actualizan estado despu√©s de dispose
- **Soluci√≥n**:
  ```dart
  if (mounted) {
    setState(() {
      // Update state
    });
  }
  ```

#### **5. Error de Audio Player**
- **S√≠ntomas**: `PlatformException: Error loading audio`
- **Causas**: Paths incorrectos o formatos no soportados
- **Soluci√≥n**:
  ```dart
  // ‚úÖ CORRECTO para assets:
  await audioPlayer.play(AssetSource('audio/music.mp3'));
  
  // ‚úÖ CORRECTO para archivos locales:
  await audioPlayer.play(DeviceFileSource(filePath));
  ```

### **üîß Checklist de Verificaci√≥n Pre-Commit**
1. ‚úÖ Verificar que todos los assets est√©n en pubspec.yaml
2. ‚úÖ Confirmar que no hay errores de null safety
3. ‚úÖ Probar hot reload funciona correctamente
4. ‚úÖ Verificar que flutter analyze no muestre warnings
5. ‚úÖ Confirmar que todos los imports son correctos

### **üö® Al Encontrar Errores Nuevos**
**Cuando se encuentren errores no documentados aqu√≠:**
1. Agregar descripci√≥n del s√≠ntoma con stack trace
2. Documentar la causa ra√≠z
3. Proporcionar soluci√≥n exacta con c√≥digo
4. Actualizar el checklist si es necesario

---

*Estas reglas aseguran consistencia en el desarrollo y mantienen la visi√≥n del proyecto enfocada en la experiencia retro aut√©ntica y la simulaci√≥n profunda de vida.*





